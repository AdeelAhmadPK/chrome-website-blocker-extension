const o=(()=>{const e=window.location.hostname;return e.startsWith("www.")?e.slice(4):e})();if(!(!o||o===""||location.protocol==="chrome-extension:")){let e=function(){t===null&&(t=Date.now())},s=function(){t!==null&&(i+=(Date.now()-t)/1e3,t=null)},n=function(){if(s(),i>0){const l=Math.round(i);i=0,chrome.runtime.sendMessage({type:"TRACK_TIME",domain:o,seconds:l}).catch(()=>{})}e()},t=null,i=0;document.visibilityState==="visible"&&e(),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?e():n()}),window.addEventListener("focus",e),window.addEventListener("blur",s),setInterval(n,3e4),window.addEventListener("beforeunload",n),window.addEventListener("pagehide",n)}
