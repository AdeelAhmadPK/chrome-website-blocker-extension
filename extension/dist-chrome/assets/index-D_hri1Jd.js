const o={blockedItems:[],insights:[],focusMode:{workMinutes:25,breakMinutes:5,totalSessions:4,currentSession:1,isActive:!1,phase:"idle",whitelistedDomains:[]},password:{enabled:!1,hash:"",failedAttempts:0},customBlockPage:{mode:"default",message:"This site is blocked. Stay focused!",backgroundColor:"#FFFFFF",redirectDelay:3},settings:{blockingEnabled:!0,whitelistMode:!1,theme:"light",showNotifications:!0,dismissedSuggestions:[]},lastDailyReset:""};async function a(){return new Promise(e=>{chrome.storage.local.get(null,t=>{const s={...o,...t,focusMode:{...o.focusMode,...t.focusMode??{}},password:{...o.password,...t.password??{}},customBlockPage:{...o.customBlockPage,...t.customBlockPage??{}},settings:{...o.settings,...t.settings??{}}};e(s)})})}async function n(e){return new Promise(t=>{chrome.storage.local.set(e,()=>t())})}async function f(e){return n({blockedItems:e})}async function h(e){const t=await a();return n({focusMode:{...t.focusMode,...e}})}async function w(e){const t=await a();return n({password:{...t.password,...e}})}async function p(e){const t=await a();return n({customBlockPage:{...t.customBlockPage,...e}})}async function S(e){const t=await a();return n({settings:{...t.settings,...e}})}function y(e){const t=s=>{const r={};for(const[i,u]of Object.entries(s))r[i]=u.newValue;e(r)};return chrome.storage.local.onChanged.addListener(t),()=>chrome.storage.local.onChanged.removeListener(t)}const M=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_STORE:o,getStore:a,onStoreChange:y,setStore:n,updateBlockedItems:f,updateCustomBlockPage:p,updateFocusMode:h,updatePassword:w,updateSettings:S},Symbol.toStringTag,{value:"Module"}));function k(e){let t=e.trim();!t.startsWith("http://")&&!t.startsWith("https://")&&(t="https://"+t);try{const s=new URL(t).hostname;return s.startsWith("www.")?s.slice(4):s}catch{return e.replace(/^https?:\/\//,"").replace(/^www\./,"").split("/")[0].trim()}}function b(){return new Date().toISOString().slice(0,10)}function P(e){if(e<60)return`${Math.round(e)}m`;const t=Math.floor(e/60),s=Math.round(e%60);return s===0?`${t}h`:`${t}h ${s}m`}function D(e){const t=Math.floor(e/60),s=e%60;return`${String(t).padStart(2,"0")}:${String(s).padStart(2,"0")}`}function F(){return`${Date.now()}-${Math.random().toString(36).slice(2,9)}`}function $(e){return`https://www.google.com/s2/favicons?sz=32&domain=${e}`}function B(e){const t=new Date,r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()];if(!e.days.includes(r))return!1;const[i,u]=e.startTime.split(":").map(Number),[g,m]=e.endTime.split(":").map(Number),c=t.getHours()*60+t.getMinutes(),d=i*60+u,l=g*60+m;return l>d?c>=d&&c<l:c>=d||c<l}export{o as D,w as a,f as b,F as c,h as d,D as e,P as f,a as g,p as h,B as i,$ as j,M as k,k as n,y as o,n as s,b as t,S as u};
